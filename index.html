<html>
  <head>
    <title>Complete graph size and the triangular series</title>
    <link rel="stylesheet" href="app.css" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <pre id="status-message" class="hidden"></pre>

    <section class="step" id="complete-graph-step">
      <p>Let's start simply. Here is a vertex:</p>

      <svg width="250" height="250" viewBox="0 0 100 100">
        <g class="graph-vertex"><circle cx="50" cy="50" r="2"></circle></g>
      </svg>

      <p>Vertices (plural of vertex) are represented as dots.</p>

      <div id="edge-example-container">
        <p>Here is an edge:</p>
        <svg
          class="complete-graph-board"
          width="320"
          height="320"
          viewBox="0 0 100 100"
        >
          <g class="graph-edge-root"></g>
          <g class="graph-vertex-root"></g>
        </svg>
        <p>Edges are represented as lines that connect two vertices.</p>
      </div>

      <p class="key-point important-term">
        A complete graph is a graph in which every vertex is connected to ever
        other vertex in the graph by an edge.
      </p>
    </section>

    <section id="adjustable-graph">
      <p>
        For example, this is a complete graph for
        <span class="vertex-count-label">3</span> vertices:
      </p>

      <svg
        class="complete-graph-board"
        width="500"
        height="500"
        viewBox="0 0 100 100"
      >
        <g class="graph-edge-root"></g>
        <g class="graph-vertex-root"></g>
      </svg>

      <input
        class="graph-vertices-control"
        type="range"
        value="3"
        min="1"
        max="25"
        step="0.1"
      />
      <p class="instruction">
        Move the the slider and see what happens to the change in the number of
        edges relative to the change in the number of vertices.
      </p>

      <p>
        Going from 2 to 3 vertices increases the number of vertices in the graph
        by <strong>1</strong>, but increases the number of edges by
        <strong>2</strong>.
      </p>

      <p>
        Here is a table with the edge counts for complete graphs with given
        numbers of vertices.
      </p>
      <table>
        <thead>
          <tr>
            <td>Vertices</td>
            <td>Edges</td>
            <td class="derivation hidden">Derivation</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>0</td>
            <td class="derivation hidden"></td>
          </tr>
          <tr>
            <td>2</td>
            <td>1</td>
            <td class="derivation hidden">1 + 0</td>
          </tr>

          <tr>
            <td>3</td>
            <td>3</td>
            <td class="derivation hidden">2 + 1</td>
          </tr>

          <tr>
            <td>4</td>
            <td>6</td>
            <td class="derivation hidden">3 + 3</td>
          </tr>

          <tr>
            <td>5</td>
            <td>10</td>
            <td class="derivation hidden">4 + 6</td>
          </tr>

          <tr>
            <td>6</td>
            <td>15</td>
            <td class="derivation hidden">5 + 10</td>
          </tr>

          <tr>
            <td>7</td>
            <td>22</td>
            <td class="derivation hidden">6 + 15</td>
          </tr>

          <tr>
            <td>8</td>
            <td>30</td>
            <td class="derivation hidden">7 + 22</td>
          </tr>

          <tr>
            <td>9</td>
            <td>38</td>
            <td class="derivation hidden">8 + 30</td>
          </tr>

          <tr>
            <td>10</td>
            <td>47</td>
            <td class="derivation hidden">9 + 38</td>
          </tr>
        </tbody>
      </table>
      <button class="show-derivations-button">
        Show derivations of edge counts
      </button>
      <p>
        When you add a vertex, the number of edges also increases. But (except
        when going from 0 vertices to 1 or from one vertex to two)
        <em
          >the increase in edges is always greater than the increase in
          vertices.</em
        >
      </p>
    </section>

    <section class="step">
      <div class="compare-panels-container">
        <div>
          <div class="side-caption-with-svg">
            <p>
              How many edges (lines) are there in this "complete graph" with 21
              vertices (dots)?
            </p>
            <svg id="small-intro-graph-board" viewBox="0 0 100 100">
              <g class="graph-edge-root"></g>
              <g class="graph-vertex-root"></g>
            </svg>
          </div>
          <div>
            <p>It's 210! There is an easy way to get this number:</p>
            <p class="key-point">
              It's
              <span class="variable"
                >(one less than the number of vertices)</span
              >
              times
              <span class="variable">(the number of vertices)</span> divided by
              2.
            </p>
          </div>
          <p>
            In this case, that's <strong>20 times 21 divided by 2</strong>,
            which equals 210.
          </p>
        </div>
        <div>
          <div class="side-caption-with-svg">
            <p>
              How many dots are in this equilateral triangle with 20 dots on a
              side?
            </p>
            <svg id="small-intro-triangular-number-board" viewBox="0 0 100 100">
              <g class="triangle-row-root"></g>
              <g class="triangle-dot-root"></g>
            </svg>
          </div>
          <div>
            <p>It's 210! There is an easy way to get this number:</p>
            <p class="key-point">
              It's
              <span class="variable"
                >(the number of dots on each side of the equilateral
                triangle)</span
              >
              times
              <span class="variable"
                >(the number of dot on each side plus 1)</span
              >
              divided by 2.
            </p>
            <p>
              In this case, that's <strong>20 times 21 divided by 2</strong>,
              which equals 210.
            </p>
          </div>
        </div>
      </div>

      <div>
        Both operations can be rephrased as
        <strong>f(n) = n * (n + 1)/2</strong> It's a convenient function! It can
        let you quickly count the edges in much larger complete graphs and get
        the triangular number for far bigger numbers.
      </div>
      <div>
        <div class="side-caption-with-svg">
          <p>This complete graph has 101 vertices (dots).</p>
          <svg id="big-intro-graph-board" viewBox="0 0 100 100">
            <g class="graph-edge-root"></g>
            <g class="graph-vertex-root"></g>
          </svg>
        </div>
        <div>
          <p>It's 210! There is an easy way to get this number:</p>
          <p class="key-point">
            It's
            <span class="variable">(one less than the number of vertices)</span>
            times <span class="variable">(the number of vertices)</span> divided
            by 2.
          </p>
        </div>
        <p>
          In this case, that's <strong>20 times 21 divided by 2</strong>, which
          equals 210.
        </p>
      </div>
      <div>
        <div class="side-caption-with-svg">
          <p>This equilateral triangle has 100 dots on a side.</p>
          <svg id="big-intro-triangular-number-board" viewBox="0 0 100 100">
            <g class="triangle-row-root"></g>
            <g class="triangle-dot-root"></g>
          </svg>
        </div>
        <div>
          <p>It's 210! There is an easy way to get this number:</p>
          <p class="key-point">
            It's
            <span class="variable"
              >(the number of dots on each side of the equilateral
              triangle)</span
            >
            times
            <span class="variable"
              >(the number of dot on each side plus 1)</span
            >
            divided by 2.
          </p>
          <p>
            In this case, that's <strong>20 times 21 divided by 2</strong>,
            which equals 210.
          </p>
        </div>
      </div>
      <div>
        But how can we trust it?
        <span class="exhortation">Let's see why it works.</span>
      </div>
      <!--
      <p>
         
        How do we know?
        We are going to show that the number of edges in a
        <a href="https://en.wikipedia.org/wiki/Complete_graph"
          >complete graph</a
        >
        is equal to the sum of the
        <a href="https://en.wikipedia.org/wiki/Triangular_number"
          >triangular series</a
        >
        that goes up to one less than the number for vertices in the complete
        graph.
      </p>
-->
    </section>

    <section class="step" id="triangular-number-step">
      <p>Now, let's talk about what a "triangular number" is.</p>
      <p>
        If you have <span class="triangle-side-count-label">3</span> dots per
        side in an equilateral triangle like the one below, the triangular
        number is <span class="triangular-number-result-label">6</span> &mdash;
        the total number of dots in the triangle.
      </p>
      <svg
        id="triangular-number-board"
        width="600"
        height="500"
        viewBox="0 0 120 100"
      >
        <g id="triangle-row-root"></g>
        <g id="triangle-dot-root"></g>
      </svg>

      <input
        id="triangle-side-length-control"
        type="range"
        value="3"
        min="1"
        max="25"
        step="0.1"
      />

      <p class="instruction">
        Move the slider to change the number of dots per side.<br />
        Current dots per side: <span class="triangle-side-count-label">3</span>
      </p>
      <p>
        Like the relationship between the vertices and edges in complete graphs,
        adding one dot to a side usually adds <em>more</em> than one dot to the
        total number of dots in the triangle. Use the slider above to compare
        total number of dots for 2 dots per side and for 3 dots per side.
      </p>
    </section>

    <hr />

    <div id="explanation-field" class="hidden"></div>

    <script src="index.js"></script>
  </body>
</html>
